---
import { homeAPI } from "../api/home"

const runtime = Astro.locals.runtime
const data = await homeAPI( runtime.env.ENVIRONMENT, runtime.env.WEB_KEY_STAGING )

const { home_data, case_studies, resources, meta_tags } = data

// LAYOUTS
import Layout from "../layouts/Layout.astro"

// COMPONENTS
import Header from "../components/header/Header.astro"
import Hero from "../components/home/Hero.astro"
import OurServices from "../components/home/our-services/OurServices.astro"
import Clients from "../components/home/Clients.astro"
import ServiceHighlight from "../components/home/ServiceHighlight.astro"
import CaseStudies from "../components/home/CaseStudies.astro"
import ReviewBanner from "../components/home/ReviewBanner.astro"
import WorkshopsAndEvents from "../components/home/WorkshopsAndEvents.astro"
import OurCompany from "../components/home/OurCompany.astro"
import Resources from "../components/home/Resources.astro"
import Incubator from "../components/home/Incubator.astro"
import LetsTalk from "../components/home/LetsTalk.astro"
import Footer from "../components/footer/Footer.astro"
import HeaderBanner from "../components/home/HeaderBanner.astro"
---
<Layout
    title={ meta_tags.title }
    description={ meta_tags.description }
    image={ meta_tags.cover }
>
    <HeaderBanner />
    <Header />
    <Hero data={ home_data.masthead } />
    <OurServices data={ home_data.our_services } />
    <Clients data={ home_data.clients } />
    <ServiceHighlight data={ home_data.service_highlight } />
    <CaseStudies data={ case_studies } home={ home_data.case_study } />
    <ReviewBanner data={ home_data.review_banner } />
    <WorkshopsAndEvents data={ home_data.workshops_and_events } />
    <OurCompany data={ home_data.our_company } />
    <Resources data={ resources } home={ home_data.resource } />
    <Incubator data={ home_data.incubator } />
    <LetsTalk data={ home_data.lets_talk } />
    <Footer />
</Layout>
