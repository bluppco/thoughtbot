---
// RUNTIME
const runtime = Astro.locals.runtime

// API
import { homeAPI } from "@/api/home"

const {

    CDN,
    ENDPOINT,
    env,
    PROJECT

} = runtime.env

const data = await homeAPI( runtime.env.ENVIRONMENT, runtime.env.WEB_KEY_STAGING, ENDPOINT )

const { home_data, case_studies, resources, meta_tags } = data

// IMPORTS ASTRO LAYOUTS
import Layout from "@/layouts/layout/index.astro"

// IMPORTS ASTRO COMPONENTS
import Header from "@/components/common/header/index.astro"
import Footer from "@/components/common/footer/index.astro"
import HeaderBanner from "@/components/home/header-banner/index.astro"
import Home from "@/components/home/index.astro"
---
<Layout
    CDN={ CDN }
    description={ meta_tags.description }
    ENDPOINT={ ENDPOINT }
    image={ meta_tags.cover }
    PROJECT={ PROJECT }
    title={ meta_tags.title }
>
    <HeaderBanner env={ env } />
    <Header env={ env } />
    <Home
        case_studies={ case_studies }
        CDN={ CDN }
        home_data={ home_data }
        PROJECT={ PROJECT }
        resources={ resources }
    />
    <Footer />
</Layout>
