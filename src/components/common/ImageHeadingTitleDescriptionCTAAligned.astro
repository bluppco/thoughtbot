---
// IMPORTING MARKED
import { marked } from "marked"

// ATOMS
import ArrowCTA from "../../atoms/ArrowCTA.astro"
import HeadingTwo from "../../atoms/heading/Two.astro"
import HeadingTwoUppercase from "../../atoms/heading/TwoUppercase.astro"

// CONSTANTS
import { CDN_LINK, IMAGE_QUALITY, IMAGE_WIDTH_600 } from "../../constants/cdn"

const {

    src,
    alt,
    heading,
    title,
    description,
    cta,
    is_right,
    height

} = Astro.props

const html = marked.parse( description )
---
<div class="grid grid-cols-1 md:grid-cols-2 gap-20">
    <div class={` ${ is_right ? "order-last" : "order-last md:order-none" } ${ height } w-full`}>
        <img
            src={ CDN_LINK + src + "?quality=" + IMAGE_QUALITY + "&width=" + IMAGE_WIDTH_600 }
            alt={ alt }
            class="h-full w-full object-contain"
        />
    </div>
    <div class="flex flex-col justify-center gap-4 md:gap-10">
        <div class="space-y-4">
            <HeadingTwoUppercase>{ heading }</HeadingTwoUppercase>
            <HeadingTwo>{ title }</HeadingTwo>
        </div>
        <section set:html={ html } class="markdown" />
        <ArrowCTA>{ cta }</ArrowCTA>
    </div>
</div>
